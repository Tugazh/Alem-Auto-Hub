# План разработки мобильного приложения ALEM AUTO (MVP)

**Стек:** Go (Backend), Flutter (Frontend), Figma (Design).
**Визуал:** Темная тема (#18181C), акцентный оранжевый градиент (#DC2713 -> #F26010), шрифт Inter.

---

### Спринт 1: Фундамент и Системная логика (Неделя 1)
**Цель:** Привести готовые наработки в систему и запустить архитектуру проекта.

| Роль | Задачи |
| :--- | :--- |
| **Дизайнер** | • **UI Kit:** Вынос готовых элементов (карточки жидкостей, таб-бар, индикаторы ТО) в компоненты.<br>• **User Flow:** Схема связей: «Главная» → «Запись»; «Гараж» → «Сервисная книжка».<br>• **Системные шаблоны:** Отрисовка скелетонов для Маркета и Штрафов в стиле готовых макетов. |
| **Go (Backend)** | • **Инфраструктура:** Настройка CI/CD, структуры проекта и БД (PostgreSQL).<br>• **Vehicle API:** CRUD для сущности «Автомобиль» (поля: VIN, ГРНЗ, пробег, уровни жидкостей).<br>• **Swagger:** Описание контрактов для авторизации и гаража. |
| **Flutter** | • **Core Layout:** Реализация темы, градиентов и нижней навигации (5 вкладок).<br>• **Гараж и Главная:** Верстка экранов по готовым макетам (карусель авто, план обслуживания).<br>• **Компоненты:** Создание библиотеки виджетов на основе UI Kit. |

---

### Спринт 2: Вход и Персональные данные (Неделя 2)
**Цель:** Реализация системы удержания пользователя и безопасности.

| Роль | Задачи |
| :--- | :--- |
| **Дизайнер** | • **Онбординг:** 4 экрана (Сервисная книжка, Расходы, Запись, Соцсеть).<br>• **Авторизация:** Вход (Телефон, Google, Apple ID, eGov) в общем стиле приложения.<br>• **Уведомления:** Экран списка и детальных настроек пушей. |
| **Go (Backend)** | • **Auth Service:** SMS-шлюз (РК), генерация JWT-токенов.<br>• **Profile API:** Управление данными пользователя и привязкой авто.<br>• **eGov Integration:** Проверка личности через внешние API. |
| **Flutter** | • **Auth UI:** Верстка входа, ввода кода и первичной регистрации.<br>• **Профиль:** Верстка настроек и интеграция уведомлений (Firebase).<br>• **Логика сессий:** Хранение токенов и обработка состояний входа. |

---

### Спринт 3: Автомобильные сервисы (Неделя 3)
**Цель:** Запуск функционала Штрафов и Записи (критично для рынка РК).

| Роль | Задачи |
| :--- | :--- |
| **Дизайнер** | • **Штрафы:** Список нарушений и детальная карта (в стиле карточек из «Записи»).<br>• **Запись (Шаг 2):** Календарь и выбор временных слотов для СТО.<br>• **Управление визитами:** Экраны отмены и переноса записей. |
| **Go (Backend)** | • **Fines Integration:** Интеграция с реестрами штрафов РК по ИИН/ГРНЗ.<br>• **Booking Engine:** Логика управления слотами времени и интеграция платежного шлюза.<br>• **Maps API:** Сбор данных о СТО для отображения на карте. |
| **Flutter** | • **Штрафы:** Верстка списка и деталей. Интеграция оплаты.<br>• **Запись:** Реализация выбора услуг (как в макете) и календаря.<br>• **Карты:** Отображение СТО и построение маршрута. |

---

### Спринт 4: Торговля и Финансы (Неделя 4)
**Цель:** Коммерческий блок и модуль учета расходов (Кошелек).

| Роль | Задачи |
| :--- | :--- |
| **Дизайнер** | • **Маркетплейс:** Сетка товаров, детальная карточка и чекаут (4 шага).<br>• **Кошелек:** Формы добавления расходов (Бензин, Сервис, Парковка) и история трат.<br>• **История заказов:** Статусы доставки и архив покупок. |
| **Go (Backend)** | • **Market API:** Поиск, фильтрация товаров и корзина.<br>• **Finance API:** Логика категоризации расходов и генерация отчетов по авто.<br>• **Order Service:** Управление статусами заказов и логистикой. |
| **Flutter** | • **Магазин:** Верстка каталога и процесса оформления заказа.<br>• **Кошелек:** Реализация ввода данных и отображение графиков расходов.<br>• **Offline Mode:** Кеширование финансовых данных для доступа без сети. |

---

### Спринт 5: Сообщество и Интеллект (Неделя 5)
**Цель:** Внедрение инструментов взаимодействия и ИИ-помощника.

| Роль | Задачи |
| :--- | :--- |
| **Дизайнер** | • **Alem Social:** Лента постов, создание публикации и профили пользователей.<br>• **ИИ-Ассистент:** Интерфейс чата с кнопками команд и индикацией голоса.<br>• **Модалки:** QR-коды, выбор города, системные алерты. |
| **Go (Backend)** | • **Social & Chat:** Посты, комментарии и WebSockets для мессенджера.<br>• **Gemini Proxy:** Проксирование запросов к Google Gemini и хранение контекста чата.<br>• **FAQ System:** База знаний для быстрых ответов бота. |
| **Flutter** | • **Social UI:** Реализация ленты и чатов (Socket.io/gRPC).<br>• **ИИ Агент:** Интерфейс помощника со стримингом ответов.<br>• **Final QA:** Замена всех моков на реальное API и нагрузочное тестирование. |

---

### Правила параллельной работы:
1. **API First:** Go-разработчик отдает Swagger-контракт до написания кода.
2. **Design Freeze:** Дизайнер фиксирует макеты спринта за 3 дня до начала разработки этого спринта.
3. **Flutter Mocks:** Фронтенд использует `mock_data` в репозиториях, пока бэкенд не закончит логику.